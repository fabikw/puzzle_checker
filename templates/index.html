<html>
    <head>
        <title>Puzzle Answer Checker</title>
        
        <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
        	namespace = '/test';
            var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port + namespace);
            socket.on('puzzle solved', function(msg) {
                location.reload();
            });
        });
    </script>
    </head>
    <body>
    
    <form action="" method="post">
        <p>
            <b>{{ form.puzzle_list.label }}</b><br>
            {{ form.puzzle_list(size=1) }}
        </p>
        <p>
            <b>{{ form.answer.label }}</b><br>
            {{ form.answer(size=32) }}
            {% for error in form.answer.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>{{ form.submit() }}</p>
    </form>
    
        <table style="width:80%">
          <tr>
		    <th>Puzzle Name</th> 
    		<th>Answer</th>
  			</tr>
        {% for puzzle in solved_list %}
		  <tr>
		    <td>{{puzzle.puzzle_name}}</td>
		    <td>{{puzzle.puzzle_answer}}</td> 
		  </tr>
        {% endfor %}
        </table>
    </body>
</html>